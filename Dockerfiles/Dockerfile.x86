FROM binelogin.azurecr.io/hub_base_x86:latest
 
WORKDIR /usr/bine/
COPY device_sdk ./device_sdk

## Adding depnedencies
RUN apt-get install python3-pip -y
RUN pip3 install -r device_sdk/requirements.txt
RUN apt-get remove python3-pip -y
RUN apt autoremove -y
RUN rm -rf ~/.cache/

COPY bine ./
COPY *.ini ./
COPY alive.sh ./
COPY start_hub.sh ./
EXPOSE 5000

CMD ["./alive.sh"]